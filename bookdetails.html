<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Details - Pustakalayah LibraryHub</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="font-sans bg-indigo-50">

  <!-- Navbar placeholder -->
  <div id="navbar"></div>

  <section class="min-h-screen flex items-start justify-center py-10 bg-[url('https://images.unsplash.com/photo-1533660502127-142f1f00889c?fit=crop&w=1200&h=800')] bg-cover bg-fixed">
    <div class="max-w-3xl w-full mx-auto px-4">
      <h2 class="text-4xl font-bold mb-6 text-indigo-700 text-center bg-white/90 p-4 rounded-xl shadow-lg">Book Details ðŸ“–</h2>
      
      <div class="bg-white p-8 rounded-xl shadow-2xl border-t-4 border-indigo-500">
        <div class="flex flex-col md:flex-row gap-6">
          <img id="bookImage" src="" class="w-full md:w-1/3 h-auto object-cover rounded-lg shadow-xl" alt="Book Cover">
          <div class="md:w-2/3">
            <h3 id="bookTitle" class="text-3xl font-bold mb-2 text-gray-800"></h3>
            <p id="bookAuthor" class="text-indigo-600 text-xl mb-4 font-semibold"></p>
            <p id="bookCategory" class="text-sm text-gray-500 italic mb-4 p-1 bg-gray-100 rounded-md inline-block"></p>
            <p id="bookDescription" class="text-gray-700 mb-6 leading-relaxed border-l-4 border-indigo-200 pl-4"></p>
            <button id="addToCartBtn" class="bg-indigo-600 text-white px-8 py-3 rounded-lg text-lg font-semibold shadow-xl hover:bg-indigo-700 transition transform hover:scale-105">
              Add to Cart ðŸ›’
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // --- Book Data ---
    const books = [
      { title: "The Lost City", author: "Sarah Mitchell", category: "fiction", image: "https://images.unsplash.com/photo-1543002588-bfa74002ed7e?fit=crop&w=400&h=600", description: "A thrilling tale of discovery and adventure in an ancient civilization." },
      { title: "Midnight Chase", author: "James Anderson", category: "action", image: "https://images.unsplash.com/photo-1589998059171-988d887df646?fit=crop&w=400&h=600", description: "High-stakes pursuit through the dark streets of London." },
      { title: "Love in Paris", author: "Emily Roberts", category: "romance", image: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?fit=crop&w=400&h=600", description: "A romantic journey through the city of love." },
      { title: "Superhero Chronicles", author: "Mike Turner", category: "comic", image: "https://images.unsplash.com/photo-1608889476518-738c9b1dcb40?fit=crop&w=400&h=600", description: "Action-packed adventures of modern-day heroes." },
      { title: "The Silent Witness", author: "Patricia Blake", category: "mystery", image: "https://images.unsplash.com/photo-1587876931567-564ce588bfbd?fit=crop&w=400&h=600", description: "A gripping mystery that will keep you guessing until the end." },
      { title: "Dragon's Rise", author: "Robert King", category: "fiction", image: "https://m.media-amazon.com/images/I/71zr12FF4kL._AC_UF1000,1000_QL80_.jpg", description: "Epic fantasy tale of dragons and magic." },
      { title: "Urban Warriors", author: "David Chen", category: "action", image: "https://m.media-amazon.com/images/I/81qBSSkGfvL._UF1000,1000_QL80_.jpg", description: "Modern martial arts action in the concrete jungle." },
      { title: "Sunset Dreams", author: "Sofia Garcia", category: "romance", image: "https://m.media-amazon.com/images/I/71iLEh7q--L._UF1000,1000_QL80_.jpg", description: "A beautiful story of summer love and new beginnings." },
      { title: "Mystery Manor", author: "Thomas Wright", category: "mystery", image: "https://images.unsplash.com/photo-1512820790803-83ca734da794?fit=crop&w=400&h=600", description: "Strange occurrences in an old English manor." },
      { title: "Hero Academy", author: "Lisa Chang", category: "comic", image: "https://images.unsplash.com/photo-1608889476518-738c9b1dcb40?fit=crop&w=400&h=600", description: "Young heroes learning to master their powers." }
    ];

    // --- Load selected book ---
    const selectedTitle = localStorage.getItem('selectedBook');
    const book = books.find(b => b.title === selectedTitle);

    if(book) {
      document.getElementById('bookImage').src = book.image;
      document.getElementById('bookTitle').textContent = book.title;
      document.getElementById('bookAuthor').textContent = `By ${book.author}`;
      document.getElementById('bookCategory').textContent = `Category: ${book.category.charAt(0).toUpperCase() + book.category.slice(1)}`;
      document.getElementById('bookDescription').textContent = book.description;
    }

    // --- Cart functionality ---
    let cart = JSON.parse(localStorage.getItem('cart') || '[]');
    document.getElementById('addToCartBtn').addEventListener('click', () => {
      if(cart.find(item => item.title === book.title)) {
        alert(`${book.title} is already in your cart!`);
        return;
      }
      cart.push(book); // store the full book object

      localStorage.setItem('cart', JSON.stringify(cart));
      alert(`${book.title} added to cart!`);
      
    });
  </script>
  <script src="js/navbar.js"></script>
  <script src="js/catalog.js"></script>
</body>
</html>
